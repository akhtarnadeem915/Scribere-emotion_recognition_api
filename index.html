<!DOCTYPE HTML>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Scribere</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="blogging website" />
  <meta name="keywords" content="" />
  <meta name="Scribble" content="free" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>

  <!-- include libs stylesheets -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.5/umd/popper.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.js"></script>


<link rel="stylesheet" type="text/css" href="https://websitecdn.netlify.com/dist/snackbar.min.css" /> 
<script src="https://websitecdn.netlify.com/dist/snackbar.min.js"></script> 

<link rel="stylesheet" type="text/css" href={{ url_for("static", filename="argon-dashboard.css") }}>

<!-- fonts --> 
<link href="https://fonts.googleapis.com/css?family=Leckerli+One&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Fira+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Pacifico&display=swap" rel="stylesheet">

<script src="https://kit.fontawesome.com/1306806fd6.js"></script>




<style type="text/css">
body, p{
  background-color: #9D9C9E;
}
.wrapper{
  text-align: center;
  padding-top: 35px;
  padding-bottom: 45px;
}

.wrapper-left{
  padding-left: 25px;
}
.card {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  margin: auto;
  text-align: center;
  font-family: arial;
}

.grey{
  background-color: #9D9C9E;
  color: #000;
  border: none;
}

.grey:hover{
  background-color: #9D9C9E;
}

hr{
  border-color: #3832c5ff;
  border-width: 2px;
}

i{
  color: #9D9C9E;
}
</style>
<script src="http://getcontenttools.com/scripts/content-tools.js"></script>
<script src="assets/editor.js"></script>
<link rel="stylesheet" type="text/css" href="http://getcontenttools.com/styles/content-tools.css">
</head>
<body>
  <nav class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white" id="sidenav-main">
    <div class="container-fluid">
      <!-- Toggler -->
      <!-- Brand -->
      <a class="navbar-brand pt-0" href="https://scribbl.ml"><h1 style="color: #9D9C9E; font-family: 'Leckerli One', cursive; font-size: 40px">Scribbl</h1></a>
        <!-- Form 
        <form class="mt-4 mb-3 d-md-none">
          <div class="input-group input-group-rounded input-group-merge">
            <input type="search" class="form-control form-control-rounded form-control-prepended" placeholder="Search" aria-label="Search">
            <div class="input-group-prepend">
              <div class="input-group-text">
                <span class="fa fa-search"></span>
              </div>
            </div>
          </div>
        </form> -->
        <!-- Navigation -->

<div class="card grey" style="width: 200px; color: #fff">
    <div class="card-body">
        <div class="row">
            <div class="col" id="emotion_output" contentEditable="true">
              <!--  <textarea class="form-control form-control-alternative" rows="5" width="100%" placeholder="extracted output" style="margin-bottom: 7px;" ></textarea> -->
            </div>
            <!--
            <div class="col-auto">
              <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                  <i class="fas fa-chart-bar"></i>
              </div>
            </div>-->
        </div>
        <div id="count"></div>
    </div>
</div>

<div class="card grey" style="width: 200px;">
    <div class="card-body">
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <!--  <div class="row">
            <div class="col">
                <h5 class="card-title text-uppercase text-muted mb-0">Total traffic</h5>
                <span class="h2 font-weight-bold mb-0">350,897</span>
            </div>
            <div class="col-auto">
              <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                  <i class="fas fa-chart-bar"></i>
              </div>
            </div>
        </div>
        <p class="mt-3 mb-0 text-muted text-sm">
            <span class="text-success mr-2"><i class="fa fa-arrow-up"></i> 3.48%</span>
            <span class="text-nowrap">Since last month</span>
        </p> -->
    </div>
</div>

</div>
</div>
</nav>
  <div class="main-content">
    
 <!--
  <div class="space">

  <textarea class="form-control" rows="5" cols="22" placeholder="extracted output" style="margin-bottom: 7px;" id="emotion_output"></textarea> 

  <div id="count"></div>-->


<!-- writing area starts here -->    
<div class="container" style="padding-top: 20px;">


<div class="nav-wrapper wrapper-left" style="background-color: #7D7D80;">
<ul class="nav nav-pills nav-pills-circle" id="tabs_2" role="tablist">
  <li class="nav-item">
    <a class="nav-link" id="profile-tab" data-toggle="tab" role="tab" aria-controls="profile" aria-selected="false" title="Heading Generation">
      <span class="nav-link-icon d-block"><i class="fas fa-heading"></i></span>
    </a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="profile-tab" data-toggle="tab" role="tab" aria-controls="profile" aria-selected="false" title="Metadata Extraction">
      <span class="nav-link-icon d-block"><i class="fas fa-hashtag"></i></span>
    </a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="profile-tab" data-toggle="tab" role="tab" aria-controls="profile" aria-selected="false" title="Text Classification">
      <span class="nav-link-icon d-block"><i class="fas fa-file-alt"></i></span>
    </a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="profile-tab" data-toggle="tab" role="tab" aria-controls="profile" aria-selected="false" title="Download">
      <span class="nav-link-icon d-block"><i class="fas fa-cloud-download-alt"></i></span>
    </a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="contact-tab" data-toggle="tab" onclick="copyDivToClipboard()" role="tab" aria-controls="contact" aria-selected="false" title="Copy">
      <span class="nav-link-icon d-block"><i class="fa fa-clone fa-lg" aria-hidden="true"></i></span>
    </a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="profile-tab" data-toggle="tab" onclick="key()" role="tab" aria-controls="profile" aria-selected="false" title="Upload">
      <span class="nav-link-icon d-block">Login</span>
    </a>
  </li>
</ul>
</div>

<textarea id="textarea" class="form-control form-control-alternative" rows="45" width="100%" placeholder="write an epic.."></textarea>


<script type="text/javascript">
//script to hit the api directly on page load, continously
//"https://scribere.pythonanywhere.com/emotion-text/api/v1.0/text=" + text,


//script to hit the api directly on page load, continously
//"https://scribere.pythonanywhere.com/emotion-text/api/v1.0/text=" + text,

function key(){
  $.getJSON("/login", function(data)
  {
    var key_fetch = data["key"];
    //console.log("key1",key_fetch);

$('#textarea').keyup(function()
{
  var text = $("#textarea").val();
  //console.log("text",text);
  function emotion_text()
  {
    //console.log("works",key_fetch);
    $.getJSON("/emotion-text/api/v1.0/text=" + text + "?token=" + key_fetch,
      function(data)
      {
        var emotion = data["text"];
        //console.log("emotion:" + emotion);
        $("#emotion_output").html('');
        $('#emotion_output').append("emotion: ",emotion);
        //console.log("key2",key_fetch);
      }
      );
  }

  var text1 = text.length;
  console.log(text1);
  var end = 40;
  //function range(text1,end){
    //if(text1 === end) return emotion_text();

  //}

  //range();
  for (text1=0;text1==40;text1++){
	alert("works");
  	emotion_text();
  	if (text1=40){
  		text1 = 0;
  	}
  }

})
 });
}


document.getElementById('textarea').onkeyup = function () 
{
document.getElementById('count').innerHTML = "Count: " + this.value.length;
};
</script>  
<!--ends here -->

<!-- js for select all -->
<script type="text/javascript">
  function copyDivToClipboard() 
  {
    var range = document.createRange();
    range.selectNode(document.getElementById("textarea"));
    window.getSelection().removeAllRanges(); // clear current selection
    window.getSelection().addRange(range); // to select text
    document.execCommand("copy");
    window.getSelection().removeAllRanges();// to deselect
  Snackbar.show({ 
   text: 'Text Copied!', 
   width: '100px',
   pos: 'top-center' }); 
  }

</script>
</div>



</div>
</div>
<br>
</body>
</html>